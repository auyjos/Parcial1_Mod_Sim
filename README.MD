````markdown

# Parcial ‚Äì Modelizaci√≥n y Simulaciones (CC2017)

## Requisitos

- **Python 3.9+**
- Paquetes: `numpy`, `pandas`, `matplotlib`, `jupyter`

**Instalaci√≥n r√°pida (Windows):**
```bat
py -m venv venv
venv\Scripts\activate
py -m pip install -r requirements.txt
````

> Si no tienes `requirements.txt`:
> `py -m pip install numpy pandas matplotlib jupyter`


## Uso del notebook

1. Abre Jupyter:

   ```bat
   jupyter notebook parcial_modsim.ipynb
   ```
2. En la celda **CONFIG**, ajusta:

   * `OUTDIR` (carpeta de salida, por defecto `./out`)
   * `N_BOOT`, `K_BINS`, `N_ACCEPT`, `SEED`
   * `RUN_D`, `RUN_E`, `RUN_F` (qu√© incisos ejecutar)
3. Men√∫ **Kernel ‚Üí Restart & Run All** para ejecutar todo.
4. Las figuras/CSVs se guardan en `OUTDIR` y puedes mostrarlas **inline** con `%matplotlib inline` + `plt.show()`.

**Mostrar y guardar gr√°ficos en cada celda:**

```python
plt.savefig("ruta.png", dpi=160)  # guarda
plt.show()                        # muestra en el notebook
plt.close()
```

---

## Estructura m√≠nima

```
.
‚îú‚îÄ parcial_modsim_onefile.ipynb   # √öNICO notebook
‚îú‚îÄ requirements.txt               # Dependencias
‚îú‚îÄ out/                           # Salidas generadas
‚îÇ  ‚îú‚îÄ hist_bootstrap_means.png
‚îÇ  ‚îú‚îÄ probabilidades_por_bin_k5.csv
‚îÇ  ‚îú‚îÄ pmf_simplificada_k5.png
‚îÇ  ‚îú‚îÄ cdf_simplificada_k5.png
‚îÇ  ‚îú‚îÄ pmf_simplificada_k5_f.png
‚îÇ  ‚îú‚îÄ cdf_simplificada_k5_f.png
‚îÇ  ‚îú‚îÄ hist_ar_simplified.png
‚îÇ  ‚îú‚îÄ bootstrap_resumen.csv
‚îÇ  ‚îú‚îÄ ar_metricas.csv
‚îÇ  ‚îú‚îÄ edges_k5.npy
‚îÇ  ‚îî‚îÄ probs_bins_k5.npy
‚îî‚îÄ README.md
```

> Si `out/` no existe, el notebook la crea autom√°ticamente.

---

## Qu√© hace cada inciso

* **(d) Bootstrapping con Transformada Inversa**
  Re-muestrea con reemplazo usando la CDF discreta (10 probabilidades). Obtiene la **distribuci√≥n de la media muestral**, histograma y **desviaci√≥n est√°ndar**.

* **(e) Rangos / PMF / CDF**
  Divide el rango observado de las medias en **K\_BINS** iguales; calcula **probabilidades por bin** (frecuencia relativa), **PMF** (barras en midpoints) y **CDF** (escalonada).

* **(f) Aceptaci√≥n‚ÄìRechazo (GCLM)**
  Objetivo: distribuci√≥n discreta de 5 puntos (midpoints de (e)). Propuesta **uniforme**; se usa **GCLM** cl√°sico. Reporta **constante c**, **tasa de aceptaci√≥n** e histograma + PMF/CDF.

---

## Checks de validaci√≥n

**(d) Bootstrap de medias**

* Media te√≥rica de las medias ‚âà **1.11**
  (Prob. agregadas: $P(2)=0.53$, $P(1)=0.25$, $P(0)=0.17$, $P(-4)=0.05$)
* SD te√≥rica de las medias ‚âà **0.44**
  ($\sigma_X\approx 1.391$, $\sigma_{\bar X}=\sigma_X/\sqrt{10}$)
* Rango te√≥rico de $\bar X$: $[-4,\,2]$

**(e)**

* `probabilidades_por_bin_k5.csv` debe **sumar 1.0**
* PMF con barras en midpoints; CDF no decreciente y termina en **1**

**(f)**

* $c = 5 \cdot \max(p_i)$ ‚Üí t√≠pico ‚âà **2.334**
* Tasa de aceptaci√≥n ‚âà $1/c$ ‚Üí t√≠pico ‚âà **0.428**
* Proporciones por bin en la muestra A\&R ‚âà $p_i$

> Para reproducibilidad exacta: `np.random.seed(42)` en (d) y fija `SEED` en (f).

---

## Problemas frecuentes
* **CSV de bins no suma 1**: confirma que `K_BINS` y los archivos `edges_k*.npy` / `probs_bins_k*.npy` provienen de la **misma corrida**.
* **A\&R lento**: si `c` es grande, la aceptaci√≥n baja; ajusta `N_ACCEPT` o revisa los `p_i`.
* **Errores de ruta**: usa rutas relativas (por defecto `./out`) y verifica permisos.

---

## üìÑ Autor / Licencia

* Autor: **Jos√© Auy√≥n**
* Uso: **Acad√©mico**
* Contacto: **[auy201579@uvg.edu.gt](auy201579@uvg.edu.gt)**


